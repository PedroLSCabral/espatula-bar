{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luize\\\\crud\\\\espatula-bar-main\\\\Project\\\\Front\\\\src\\\\components\\\\forms\\\\FormProduto.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport { FormContainer, InputArea, Button, Label, Input } from \"../../styles/styledConsts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormProduto = ({\n  onEdit,\n  setOnEdit,\n  getProduto\n}) => {\n  _s();\n  const ref = useRef();\n  useEffect(() => {\n    if (onEdit) {\n      const produto = ref.current;\n      produto.nome.value = onEdit.nome;\n      produto.qtd.value = onEdit.qtd;\n      produto.preco.value = onEdit.preco;\n      produto.categoria.value = onEdit.categoria;\n    }\n  }, [onEdit]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const produto = ref.current;\n    if (\n    //Garante que os campos serão preenchidos\n    !produto.nome.value || !produto.qtd.value || !produto.preco.value || !produto.categoria.value) {\n      return toast.warn(\"Preencha todos os campos!\"); //Exibe a mansagem e erro caso não estejam\n    }\n    if (onEdit) {\n      await axios.put(`http://localhost:3000/registro/produtos/`, {\n        id: onEdit.id,\n        nome: produto.nome.value,\n        qtd: produto.qtd.value,\n        preco: produto.preco.value,\n        categoria: produto.categoria.value\n      }).then(({\n        data\n      }) => toast.success(data)).catch(({\n        data\n      }) => toast.error(data));\n    } else {\n      await axios.post(\"http://localhost:3000/registro/produtos\", {\n        nome: produto.nome.value,\n        qtd: produto.qtd.value,\n        preco: produto.preco.value,\n        categoria: produto.categoria.value\n      }).then(({\n        data\n      }) => toast.success(data)).catch(err => {\n        console.error(err);\n        toast.error(\"Erro ao salvar o produto\");\n      });\n    }\n    setOnEdit(null);\n    getProduto();\n  };\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    ref: ref,\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(InputArea, {\n      children: /*#__PURE__*/_jsxDEV(Input, {\n        name: \"id\",\n        type: \"hidden\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputArea, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Nome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"nome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputArea, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Quantidade\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"qtd\",\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputArea, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Pre\\xE7o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"preco\",\n        type: \"number\",\n        step: \"0.01\",\n        min: \"0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InputArea, {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Categoria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"categoria\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      children: \"SALVAR\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n};\n_s(FormProduto, \"8uVE59eA/r6b92xF80p7sH8rXLk=\");\n_c = FormProduto;\nexport default FormProduto;\nvar _c;\n$RefreshReg$(_c, \"FormProduto\");","map":{"version":3,"names":["React","useRef","useEffect","axios","toast","FormContainer","InputArea","Button","Label","Input","jsxDEV","_jsxDEV","FormProduto","onEdit","setOnEdit","getProduto","_s","ref","produto","current","nome","value","qtd","preco","categoria","handleSubmit","e","preventDefault","warn","put","id","then","data","success","catch","error","post","err","console","onSubmit","children","name","type","fileName","_jsxFileName","lineNumber","columnNumber","step","min","_c","$RefreshReg$"],"sources":["C:/Users/luize/crud/espatula-bar-main/Project/Front/src/components/forms/FormProduto.js"],"sourcesContent":["import React, {useRef, useEffect} from \"react\";\r\nimport axios from \"axios\";\r\nimport {toast} from \"react-toastify\";\r\nimport { FormContainer, InputArea, Button, Label, Input } from \"../../styles/styledConsts\";\r\n\r\nconst FormProduto = ({onEdit, setOnEdit, getProduto}) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        if(onEdit) {\r\n            const produto = ref.current;\r\n\r\n            produto.nome.value = onEdit.nome;\r\n            produto.qtd.value = onEdit.qtd;\r\n            produto.preco.value = onEdit.preco;\r\n            produto.categoria.value = onEdit.categoria;\r\n        }\r\n    }, [onEdit]);\r\n\r\n    const handleSubmit = async(e) => {\r\n        e.preventDefault();\r\n\r\n        const produto = ref.current;\r\n\r\n        if (//Garante que os campos serão preenchidos\r\n            !produto.nome.value ||\r\n            !produto.qtd.value ||\r\n            !produto.preco.value ||\r\n            !produto.categoria.value  \r\n        ) {\r\n            return toast.warn(\"Preencha todos os campos!\")//Exibe a mansagem e erro caso não estejam\r\n        }\r\n        if(onEdit) {\r\n            await axios\r\n                .put(`http://localhost:3000/registro/produtos/`, {\r\n                    id: onEdit.id,\r\n                    nome: produto.nome.value,\r\n                    qtd : produto.qtd.value,\r\n                    preco : produto.preco.value,\r\n                    categoria : produto.categoria.value,\r\n                })\r\n                .then(({data}) => toast.success(data))\r\n                .catch(({data}) => toast.error(data));\r\n\r\n        } else {\r\n            await axios\r\n                .post(\"http://localhost:3000/registro/produtos\", {\r\n                    nome: produto.nome.value,\r\n                    qtd : produto.qtd.value,\r\n                    preco : produto.preco.value,\r\n                    categoria : produto.categoria.value,\r\n                })\r\n                .then(({data}) => toast.success(data))\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    toast.error(\"Erro ao salvar o produto\");\r\n                });\r\n                \r\n        }\r\n    setOnEdit(null);\r\n    getProduto();\r\n    };\r\n    \r\n\r\n\r\n    return (\r\n        <FormContainer ref = {ref} onSubmit={handleSubmit}>\r\n            <InputArea>\r\n                <Input name = \"id\" type = \"hidden\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Nome</Label>\r\n                <Input name = \"nome\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Quantidade</Label>\r\n                <Input name = \"qtd\" type = \"number\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Preço</Label>\r\n                <Input name = \"preco\" type = \"number\" step = \"0.01\" min = \"0\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Categoria</Label>\r\n                <Input name = \"categoria\"/>\r\n            </InputArea>\r\n\r\n            <Button type = \"submit\">SALVAR</Button>\r\n        </FormContainer>\r\n\r\n    );\r\n};\r\n\r\nexport default FormProduto;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}