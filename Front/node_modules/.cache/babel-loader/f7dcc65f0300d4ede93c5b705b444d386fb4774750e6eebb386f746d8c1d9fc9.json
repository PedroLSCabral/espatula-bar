{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\luize\\\\crud\\\\espatula-bar-main\\\\Project\\\\Front\\\\src\\\\components\\\\forms\\\\FormCompra.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Label, Input, Select, Button, FormContainer } from \"../../styles/styledConsts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormCompra = () => {\n  _s();\n  const [form, setForm] = useState({\n    cpf_cliente: \"\",\n    id_produto: \"\",\n    qtd: 1,\n    id_funcionario: \"\",\n    total: 0\n  });\n  const [produtos, setProdutos] = useState([]);\n  useEffect(() => {\n    axios.get(\"http://localhost:3000/consulta/produtos\").then(res => setProdutos(res.data)).catch(err => console.error(\"Erro ao buscar produtos:\", err));\n  }, []);\n  useEffect(() => {\n    const produtoSelecionado = produtos.find(p => p.id === parseInt(form.id_produto));\n    if (produtoSelecionado && form.qtd) {\n      const novoTotal = produtoSelecionado.preco * form.qtd;\n      setForm(prev => ({\n        ...prev,\n        total: novoTotal\n      }));\n    }\n  }, [form.id_produto, form.qtd, produtos]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm(prev => ({\n      ...prev,\n      [name]: name === \"qtd\" ? parseInt(value) : value\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    className: \"space-y-4 p-4 border rounded w-full max-w-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"CPF do Cliente:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"cpf_cliente\",\n        value: form.cpf_cliente,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Produto:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        name: \"id_produto\",\n        value: form.id_produto,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Selecione um produto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), produtos.map(produto => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: produto.id,\n          children: produto.nome\n        }, produto.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Quantidade:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"qtd\",\n        type: \"number\",\n        min: \"1\",\n        value: form.qtd,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Label, {\n        children: \"Total:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        name: \"total\",\n        value: form.total,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      children: \"Finalizar Compra\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n};\n_s(FormCompra, \"ButUyDasdb0TWzlwn6GK7YgxkRY=\");\n_c = FormCompra;\nexport default FormCompra;\nvar _c;\n$RefreshReg$(_c, \"FormCompra\");","map":{"version":3,"names":["useEffect","useState","axios","Label","Input","Select","Button","FormContainer","jsxDEV","_jsxDEV","FormCompra","_s","form","setForm","cpf_cliente","id_produto","qtd","id_funcionario","total","produtos","setProdutos","get","then","res","data","catch","err","console","error","produtoSelecionado","find","p","id","parseInt","novoTotal","preco","prev","handleChange","e","name","value","target","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","map","produto","nome","type","min","readOnly","_c","$RefreshReg$"],"sources":["C:/Users/luize/crud/espatula-bar-main/Project/Front/src/components/forms/FormCompra.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport {Label, Input, Select, Button, FormContainer} from \"../../styles/styledConsts\";\r\n\r\nconst FormCompra = () => {\r\n  const [form, setForm] = useState({\r\n    cpf_cliente: \"\",\r\n    id_produto: \"\",\r\n    qtd: 1,\r\n    id_funcionario: \"\",\r\n    total: 0,\r\n  });\r\n\r\n  const [produtos, setProdutos] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:3000/consulta/produtos\")\r\n      .then(res => setProdutos(res.data))\r\n      .catch(err => console.error(\"Erro ao buscar produtos:\", err));\r\n  }, []);\r\n\r\n \r\n  useEffect(() => {\r\n    const produtoSelecionado = produtos.find(p => p.id === parseInt(form.id_produto));\r\n    if (produtoSelecionado && form.qtd) {\r\n      const novoTotal = produtoSelecionado.preco * form.qtd;\r\n      setForm(prev => ({ ...prev, total: novoTotal }));\r\n    }\r\n  }, [form.id_produto, form.qtd, produtos]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setForm(prev => ({\r\n      ...prev,\r\n      [name]: name === \"qtd\" ? parseInt(value) : value\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <FormContainer className=\"space-y-4 p-4 border rounded w-full max-w-md\">\r\n      <div>\r\n        <Label>CPF do Cliente:</Label>\r\n        <Input\r\n          name=\"cpf_cliente\"\r\n          value={form.cpf_cliente}\r\n          onChange={handleChange}\r\n          \r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Produto:</Label>\r\n        <Select\r\n          name=\"id_produto\"\r\n          value={form.id_produto}\r\n          onChange={handleChange}\r\n          \r\n        >\r\n          <option value=\"\">Selecione um produto</option>\r\n          {produtos.map((produto) => (\r\n            <option key={produto.id} value={produto.id}>\r\n              {produto.nome}\r\n            </option>\r\n          ))}\r\n        </Select>\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Quantidade:</Label>\r\n        <Input\r\n          name=\"qtd\"\r\n          type=\"number\"\r\n          min=\"1\"\r\n          value={form.qtd}\r\n          onChange={handleChange}\r\n          \r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Total:</Label>\r\n        <Input\r\n          name=\"total\"\r\n          value={form.total}\r\n          readOnly\r\n          \r\n        />\r\n      </div>\r\n\r\n      <Button type=\"submit\">Finalizar Compra</Button>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default FormCompra;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}