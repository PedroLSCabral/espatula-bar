{"ast":null,"code":"import React,{useRef,useEffect}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{toast}from\"react-toastify\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FormContainer=styled.form`\n    display: flex;\n    align-items: flex-end;\n    gap: 10px;\n    flex-wrap: wrap;\n    background-color: #fff;\n    padding: 20px;\n    box-shadow: 0px 0px 5px #ccc;\n    border-radius: 5px;\n`;const InputArea=styled.div`\n    display: flex;\n    flex-direction: column;\n`;const Button=styled.button`\n    padding: 10px;\n    cursor: pointer:\n    border-radius: 5px:\n    border: none;\n    background-color: #2c73d2;\n    color: white;\n    height: 42px;\n`;const Label=styled.label``;const Input=styled.input`\n    width: 120px;\n    padding: 0px 10px;\n    border: 1px solid #bbb;\n    border-radius: 5px;\n    height: 40px;\n`;const Form=_ref=>{let{onEdit,setOnEdit,getProduto}=_ref;const ref=useRef();useEffect(()=>{if(onEdit){const produto=ref.current;produto.nome.value=onEdit.nome;produto.tipo.value=onEdit.tipo;produto.qtd.value=onEdit.qtd;produto.preco.value=onEdit.preco;}},[onEdit]);const handleSubmit=async e=>{e.preventDefault();const produto=ref.current;if(!produto.nome.value||!produto.tipo.value||!produto.qtd.value||!produto.preco.value){return toast.warn(\"Preencha todos os campos!\");}if(onEdit){await axios.put(`http://localhost:3000/produtos/${onEdit.id}`,{nome:produto.nome.value,tipo:produto.tipo.value,qtd:produto.qtd.value,preco:produto.preco.value}).then(_ref2=>{let{data}=_ref2;return toast.success(data);}).catch(_ref3=>{let{data}=_ref3;return toast.error(data);});}else{await axios.post(\"http://localhost:3000/produtos\",{nome:produto.nome.value,tipo:produto.tipo.value,qtd:produto.qtd.value,preco:produto.preco.value}).then(_ref4=>{let{data}=_ref4;return toast.success(data);}).catch(err=>{console.error(err);toast.error(\"Erro ao salvar o produto\");});}setOnEdit(null);getProduto();};return/*#__PURE__*/_jsxs(FormContainer,{ref:ref,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Nome\"}),/*#__PURE__*/_jsx(Input,{name:\"nome\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Tipo\"}),/*#__PURE__*/_jsx(Input,{name:\"tipo\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Quantidade\"}),/*#__PURE__*/_jsx(Input,{name:\"qtd\",type:\"number\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Pre\\xE7o\"}),/*#__PURE__*/_jsx(Input,{name:\"preco\",type:\"number\",step:\"0.01\",min:\"0\"})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"SALVAR\"})]});};export default Form;","map":{"version":3,"names":["React","useRef","useEffect","styled","axios","toast","jsx","_jsx","jsxs","_jsxs","FormContainer","form","InputArea","div","Button","button","Label","label","Input","input","Form","_ref","onEdit","setOnEdit","getProduto","ref","produto","current","nome","value","tipo","qtd","preco","handleSubmit","e","preventDefault","warn","put","id","then","_ref2","data","success","catch","_ref3","error","post","_ref4","err","console","onSubmit","children","name","type","step","min"],"sources":["C:/Users/luize/crud/espatula-bar-main/front/src/components/form.js"],"sourcesContent":["import React, {useRef, useEffect} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst FormContainer = styled.form`\r\n    display: flex;\r\n    align-items: flex-end;\r\n    gap: 10px;\r\n    flex-wrap: wrap;\r\n    background-color: #fff;\r\n    padding: 20px;\r\n    box-shadow: 0px 0px 5px #ccc;\r\n    border-radius: 5px;\r\n`;\r\n\r\nconst InputArea = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nconst Button = styled.button`\r\n    padding: 10px;\r\n    cursor: pointer:\r\n    border-radius: 5px:\r\n    border: none;\r\n    background-color: #2c73d2;\r\n    color: white;\r\n    height: 42px;\r\n`;\r\n\r\nconst Label = styled.label``;\r\n\r\nconst Input = styled.input`\r\n    width: 120px;\r\n    padding: 0px 10px;\r\n    border: 1px solid #bbb;\r\n    border-radius: 5px;\r\n    height: 40px;\r\n`;\r\n\r\n\r\nconst Form = ({onEdit, setOnEdit, getProduto}) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        if(onEdit) {\r\n            const produto = ref.current;\r\n\r\n            produto.nome.value = onEdit.nome;\r\n            produto.tipo.value = onEdit.tipo;\r\n            produto.qtd.value = onEdit.qtd;\r\n            produto.preco.value = onEdit.preco;\r\n        }\r\n    }, [onEdit]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const produto = ref.current;\r\n\r\n        if (\r\n            !produto.nome.value ||\r\n            !produto.tipo.value ||\r\n            !produto.qtd.value ||\r\n            !produto.preco.value \r\n        ) {\r\n            return toast.warn(\"Preencha todos os campos!\")\r\n        }\r\n        if(onEdit) {\r\n            await axios\r\n                .put(`http://localhost:3000/produtos/${onEdit.id}`, {\r\n                    nome: produto.nome.value,\r\n                    tipo : produto.tipo.value,\r\n                    qtd : produto.qtd.value,\r\n                    preco : produto.preco.value,\r\n                })\r\n                .then(({data}) => toast.success(data))\r\n                .catch(({data}) => toast.error(data));\r\n\r\n        } else {\r\n            await axios\r\n                .post(\"http://localhost:3000/produtos\", {\r\n                    nome: produto.nome.value,\r\n                    tipo : produto.tipo.value,\r\n                    qtd : produto.qtd.value,\r\n                    preco : produto.preco.value,\r\n                })\r\n                .then(({data}) => toast.success(data))\r\n                .catch((err) => {\r\n                    console.error(err);\r\n                    toast.error(\"Erro ao salvar o produto\");\r\n                });\r\n                \r\n        }\r\n    setOnEdit(null);\r\n    getProduto();\r\n    };\r\n    \r\n\r\n\r\n    return (\r\n        <FormContainer ref = {ref} onSubmit={handleSubmit}>\r\n            <InputArea>\r\n                <Label>Nome</Label>\r\n                <Input name = \"nome\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Tipo</Label>\r\n                <Input name = \"tipo\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Quantidade</Label>\r\n                <Input name = \"qtd\" type = \"number\"/>\r\n            </InputArea>\r\n            <InputArea>\r\n                <Label>Pre√ßo</Label>\r\n                <Input name = \"preco\" type = \"number\" step = \"0.01\" min = \"0\"/>\r\n            </InputArea>\r\n\r\n            <Button type = \"submit\">SALVAR</Button>\r\n        </FormContainer>\r\n\r\n    );\r\n};\r\n\r\nexport default Form;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}